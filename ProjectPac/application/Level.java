package application;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;

import javafx.scene.paint.Color;

public class Level {
	private int[][] positionArray = new int[Main.levelHeight][Main.levelWidth];

	private Color background;
	private Color wall;
	private String levelName;
/*
	public enum Difficulty {
		easy, // 56% chance of dumb AI, 35% moderate, 7% chance smart, 1% chance perfect
		medium, // 26% dumb, 43% moderate, 26% smart, 5% perfect
		hard, //5% dumb, 26% moderate, 43% smart, 26% perfect
	}
	Difficulty difficulty;*/

	public Level(String levelName) {
		
		this.levelName = levelName;
		String filename = "res/levels/" + levelName + ".txt";
		String line = null;
		
		try {
			FileReader fileReader = new FileReader(filename);
			BufferedReader buffered = new BufferedReader(fileReader);
			
			int yPos = 0;
			int extraLines = 0;
			while  ((line = buffered.readLine()) != null) {
				if (yPos < Main.levelHeight) {
					String[] characters = line.replace("{", "").replace("}", "").split(",");
					int xPos = 0;
	
					for (int i = 0; i < characters.length; i++) {
						positionArray[yPos][xPos] = Integer.parseInt(characters[i]);
						xPos++;
					}
					yPos++;
				}
				else {
					extraLines++;
					String r = line.substring(0, 2); // Hex string
					String g = line.substring(2, 4);
					String b = line.substring(4, 6);
					
					switch(extraLines) {
						case 1:{
							background = Color.rgb(Integer.parseInt(r,16), Integer.parseInt(g,16), Integer.parseInt(b,16));
							break;
						}
						case 2:{
							wall = Color.rgb(Integer.parseInt(r, 16), Integer.parseInt(g, 16), Integer.parseInt(b, 16));
							break;
						}
						default: break;						
					}
					
				}
			}
		} catch (FileNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
		return;
	}
		
		
		/*
		
		
		if (levelName == "level1") {
		difficulty = Difficulty.medium;
		background = Color.color(0.0, 0.0, 0.2);
		wall = Color.BLUE;
		this.levelName = levelName;

		positionArray = new int[][] {{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
									 {1,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,1},
									 {1,4,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,1,1,1,4,1,1,1,1,4,1},
									 {1,5,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,1,1,1,4,1,1,1,1,5,1},
									 {1,4,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,1,1,1,4,1,1,1,1,4,1},
									 {1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1},
									 {1,4,1,1,1,1,4,1,4,1,1,1,1,1,1,1,1,1,4,1,4,1,1,1,1,4,1},
									 {1,4,4,4,4,4,4,1,4,4,4,4,4,1,4,4,4,4,4,1,4,4,4,4,4,4,1},
									 {1,1,1,1,1,1,4,1,1,1,1,1,0,1,0,1,1,1,1,1,4,1,1,1,1,1,1},
									 {1,1,1,1,1,1,4,1,0,0,0,0,0,-8,0,0,0,0,0,1,4,1,1,1,1,1,1},
									 {1,1,1,1,1,1,4,1,0,1,1,1,1,0,1,1,1,1,0,1,4,1,1,1,1,1,1},
									 {1,1,1,1,1,1,4,1,0,1,0,0,0,0,0,0,0,1,0,1,4,1,1,1,1,1,1},
									 {0,0,0,0,0,0,4,0,0,1,0,-8*3,0,0,0,0,0,1,0,0,4,0,0,0,0,0,0},
									 {1,1,1,1,1,1,4,1,0,1,0,0,0,0,0,0,0,1,0,1,4,1,1,1,1,1,1},
									 {1,1,1,1,1,1,4,1,0,1,1,1,1,1,1,1,1,1,0,1,4,1,1,1,1,1,1},
									 {1,1,1,1,1,1,4,1,0,0,0,0,0,0,0,0,0,0,0,1,4,1,1,1,1,1,1},
									 {1,1,1,1,1,1,4,1,0,1,1,1,1,1,1,1,1,1,0,1,4,1,1,1,1,1,1},
									 {1,4,4,4,4,4,4,4,4,4,4,4,4,1,4,4,4,4,4,4,4,4,4,4,4,4,1},
									 {1,4,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,1,1,1,4,1,1,1,1,4,1},
									 {1,5,4,4,4,1,4,4,4,4,4,4,4,2,5,4,4,4,4,4,4,1,4,4,4,5,1},
									 {1,1,1,1,4,1,4,1,4,1,1,1,1,1,1,1,1,1,4,1,4,1,4,1,1,1,1},
									 {1,4,4,4,4,4,4,1,4,4,4,4,4,1,4,4,4,4,4,1,4,4,4,4,4,4,1},
									 {1,4,1,1,1,1,1,1,1,1,1,1,4,1,4,1,1,1,1,1,1,1,1,1,1,4,1},
									 {1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1},
									 {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};
	}
		else if(levelName == "target") {
		difficulty = Difficulty.easy;
		background = Color.color(0.0, 0.0, 0.2);
		wall = Color.BLUE;
		this.levelName = levelName;

		positionArray = new int[][] {{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
									 {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
									 {1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1},
									 {1,4,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,4,1,1,4,1,4,1},
									 {1,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,1,4,1},
									 {1,4,4,4,1,1,1,1,1,4,1,4,1,1,1,4,1,4,1,1,4,1,1,4,1,4,1},
									 {1,4,1,4,1,1,1,1,1,4,1,4,4,4,4,4,1,4,1,1,4,1,5,4,1,4,1},
									 {1,4,1,4,4,4,4,4,4,4,1,4,1,5,1,4,1,4,4,4,4,1,1,4,1,4,1},
									 {1,4,1,1,1,4,1,1,1,1,1,4,1,4,1,4,1,1,1,1,4,1,1,4,1,4,1},
									 {1,4,4,4,4,4,4,4,4,4,4,4,1,4,1,4,4,4,4,4,4,4,4,4,4,4,1},
									 {1,4,1,1,1,1,1,4,1,1,1,1,1,4,1,1,1,1,1,4,1,1,1,1,1,4,1},
									 {0,4,4,4,4,4,1,4,5,4,4,4,0,2,4,4,4,4,5,4,1,5,4,4,4,4,0},
									 {1,4,1,1,1,4,1,4,1,1,1,1,1,4,1,1,1,1,1,4,1,1,1,1,1,4,1},
									 {1,4,4,4,4,4,4,4,4,4,4,4,1,4,1,4,4,4,4,4,4,4,4,4,4,4,1},
									 {1,4,1,1,1,4,1,1,1,1,1,4,1,4,1,4,1,1,1,1,1,4,1,1,1,4,1},
									 {1,4,1,1,1,4,4,4,4,4,1,4,1,5,1,4,1,4,4,4,4,4,4,4,4,4,1},
									 {1,4,1,1,1,4,1,1,1,4,1,4,4,4,4,4,1,4,1,1,1,1,1,1,1,4,1},
									 {1,4,1,1,1,4,1,1,1,4,1,4,1,4,1,4,1,4,1,0,0,1,1,1,1,4,1},
									 {1,4,1,1,1,4,1,1,1,4,1,4,1,4,4,4,4,4,0,-8*3,0,1,1,1,4,4,1},
									 {1,4,5,1,1,4,1,1,1,4,1,4,1,1,1,4,1,4,1,1,1,1,1,4,4,4,1},
									 {1,4,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,4,1},
									 {1,4,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,4,1},
									 {1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1},
									 {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
									 {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};

		}

		else if(levelName == "castle") {
		difficulty = Difficulty.easy;
		background = Color.rgb(62, 50, 36);//Brown
		wall = Color.GREY;
		this.levelName = levelName;
		positionArray = new int [][] {{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
									 {1,4,4,4,4,4,4,4,4,4,1,1,1,2,1,1,1,4,4,4,4,4,4,4,4,4,1},
									 {1,4,1,1,1,1,4,1,1,4,1,1,1,4,1,1,1,4,1,1,4,1,1,1,4,1,1},
									 {1,4,0,5,0,0,4,1,1,4,1,1,1,4,1,1,1,4,1,1,4,0,5,0,4,1,1},
									 {1,4,1,1,1,1,4,1,1,4,1,1,1,4,1,1,1,4,1,1,4,1,1,1,4,1,1},
									 {1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1},
									 {1,4,1,1,1,1,1,1,0,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,0,1,1},
									 {1,4,4,4,4,4,4,1,0,1,4,4,4,4,4,4,4,4,1,1,1,4,4,4,4,4,1},
									 {1,4,1,1,1,1,4,4,4,4,4,1,4,1,1,4,1,4,4,4,4,4,1,1,1,4,1},
									 {1,4,1,1,1,1,1,1,1,4,1,1,4,1,1,4,1,1,4,1,1,1,1,1,1,4,1},
									 {1,4,1,1,1,1,1,1,1,4,1,4,4,4,4,4,4,1,4,1,1,1,1,1,1,4,1},
									 {0,4,4,4,4,4,4,4,4,4,4,4,1,4,1,1,4,4,4,4,4,4,4,4,4,4,0},
									 {1,4,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,1,1,1,4,1,1},
									 {1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,4,1,1},
									 {1,4,1,4,1,1,1,4,1,4,1,4,1,4,1,4,1,4,1,4,1,1,1,1,4,1,1},
									 {1,4,4,4,1,1,1,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1},
									 {1,4,1,4,4,4,4,4,5,1,1,4,1,4,4,4,1,4,1,4,1,1,1,1,4,1,1},
									 {1,4,1,4,1,1,1,1,4,4,4,4,4,4,1,4,4,4,1,4,1,1,1,1,4,1,1},
									 {1,4,1,4,4,4,4,1,4,1,1,4,1,4,4,4,1,4,1,4,1,1,1,1,4,1,1},
									 {1,4,1,1,1,1,4,1,4,1,1,4,4,4,1,4,4,4,1,4,1,1,1,1,4,1,1},
									 {1,4,1,-8,0,1,4,1,4,1,1,4,1,4,4,4,1,4,1,4,1,1,1,1,4,1,1},
									 {1,4,1,-8*3,0,0,4,4,4,4,4,4,4,4,1,4,4,4,1,4,1,1,1,1,4,1,1},
									 {1,4,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,1,4,4,4,4,4,5,1,1},
									 {1,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1},
									 {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}};
		}
*/
	
	public Level(int[][] array) {
		positionArray = array;
	}
	
	public int [][] getArray() {
		return positionArray;
	}

	public Color getBackground() {
		return background;
	}
	public Color getWallColor() {
		return wall;
	}
	public String getLevelName() {
		return levelName;
	}
}
